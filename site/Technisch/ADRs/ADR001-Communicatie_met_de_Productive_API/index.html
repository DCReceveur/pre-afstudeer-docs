
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ADR%20Template/">
      
      
        <link rel="next" href="../ADR002-Front%20end%20framework/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>ADR001-Communicatie met de Productive API - PMP</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adr001-communicatie-met-de-productive-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="PMP" class="md-header__button md-logo" aria-label="PMP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PMP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ADR001-Communicatie met de Productive API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="PMP" class="md-nav__button md-logo" aria-label="PMP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    PMP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Management Portal documentatie
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Functioneel
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Functioneel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/FunctioneelOntwerp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functioneel ontwerp Project Management Portal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Schermontwerpen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scherm ontwerpen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FDRs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            FDRs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/FDRs/FDR001-Tijd-en-kosten-niet-tonen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FDR001 Tijd en kosten niet tonen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/FDRs/FDR002-Tenant-level-chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FDR002 Tenant level chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/FDRs/FDR003-Gebruikers-acties-in-productive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FDR003 Gebruikers acties in productive
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Requirements
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Requirements
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR1_Inzien_project_plannings_informatie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR1: Inzien project plannings informatie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR2_Inzien_taken/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR2: Inzien taken
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR3_Toevoegen_aanvraag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR3: Toevoegen aanvraag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR4_Versturen_notificaties/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR4: Versturen notificaties
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR5_Opstellen_project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR5: Beheren project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR6_Inzien_project_service_statuses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR6: Inzien project service statuses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR7_Inzien_project_documentatie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR7 Inzien project documentatie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR8_Controleren_aanvraag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR8 Controleren aanvraag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FR9_Tenant_level_chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR9: Tenant chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Functioneel/Requirements/FRX_FDUC_Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FR?: Empty FDUC
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Onderzoek
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Onderzoek
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Onderzoek/OND01-ProductiveSync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communicatie met productive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Onderzoek/Onderzoeksmethodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Onderzoek methodes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PVA
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            PVA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PVA/PlanVanAanpak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plan van aanpak Project Management Portal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PVA/Planning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Planning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PVA/kwaliteitseisen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kwaliteitseisen
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technisch
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Technisch
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SoftwareArchitectureDocument/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software Architecture Document
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TechnischOntwerp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Technisch ontwerp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" checked>
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ADRs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            ADRs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR%20Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ADR001-Communicatie met de Productive API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ADR001-Communicatie met de Productive API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#status-proposed" class="md-nav__link">
    <span class="md-ellipsis">
      Status: Proposed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    <span class="md-ellipsis">
      Context:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o2-continu-synchroniserende-backend-database-aan-de-hand-van-webhooks" class="md-nav__link">
    <span class="md-ellipsis">
      O2-Continu synchroniserende backend database aan de hand van Webhooks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="O2-Continu synchroniserende backend database aan de hand van Webhooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-uitlezen" class="md-nav__link">
    <span class="md-ellipsis">
      Data uitlezen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-wijzigen-binnen-productive" class="md-nav__link">
    <span class="md-ellipsis">
      Data wijzigen binnen productive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-wijzigen-binnen-het-pmp" class="md-nav__link">
    <span class="md-ellipsis">
      Data wijzigen binnen het PMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronisatie-bevestiging" class="md-nav__link">
    <span class="md-ellipsis">
      Synchronisatie bevestiging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    <span class="md-ellipsis">
      Consequences:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Alternatives:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Alternatives:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o1-directe-communicatie-met-productive" class="md-nav__link">
    <span class="md-ellipsis">
      O1: Directe communicatie met productive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o3-timed-data-synchronisatie" class="md-nav__link">
    <span class="md-ellipsis">
      O3: Timed data synchronisatie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o4-change-based-polling" class="md-nav__link">
    <span class="md-ellipsis">
      O4: Change based polling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-vragen" class="md-nav__link">
    <span class="md-ellipsis">
      Open vragen
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR002-Front%20end%20framework/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR002-Front end framework
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR003-Back%20end%20framework/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR003-Back end framework
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR004-Database%20system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR004-Database system
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR005-Database-ORM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR005-Database-ORM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR006-Frontend%20backend%20Communicatie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR006-Frontend backend Communicatie
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR007-MVC%20Design%20pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR007 MVC Design pattern
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR008-Taak-Mijlpalen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR0008 Taak mijlpalen &amp; scheiding tussen aanvraag en taak
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR009-ProductiveData/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR0009 Productive Data Details
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR010-Authentication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR010 Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LADR%20Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR000
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheiding%20tussen%20aanvraag%20en%20taak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ADR00? Aanvragen in Productive
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/Notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/Vragen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vragen
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#status-proposed" class="md-nav__link">
    <span class="md-ellipsis">
      Status: Proposed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#context" class="md-nav__link">
    <span class="md-ellipsis">
      Context:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decision" class="md-nav__link">
    <span class="md-ellipsis">
      Decision:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decision:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o2-continu-synchroniserende-backend-database-aan-de-hand-van-webhooks" class="md-nav__link">
    <span class="md-ellipsis">
      O2-Continu synchroniserende backend database aan de hand van Webhooks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="O2-Continu synchroniserende backend database aan de hand van Webhooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-uitlezen" class="md-nav__link">
    <span class="md-ellipsis">
      Data uitlezen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-wijzigen-binnen-productive" class="md-nav__link">
    <span class="md-ellipsis">
      Data wijzigen binnen productive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-wijzigen-binnen-het-pmp" class="md-nav__link">
    <span class="md-ellipsis">
      Data wijzigen binnen het PMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronisatie-bevestiging" class="md-nav__link">
    <span class="md-ellipsis">
      Synchronisatie bevestiging
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consequences" class="md-nav__link">
    <span class="md-ellipsis">
      Consequences:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alternatives" class="md-nav__link">
    <span class="md-ellipsis">
      Alternatives:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Alternatives:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#o1-directe-communicatie-met-productive" class="md-nav__link">
    <span class="md-ellipsis">
      O1: Directe communicatie met productive
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o3-timed-data-synchronisatie" class="md-nav__link">
    <span class="md-ellipsis">
      O3: Timed data synchronisatie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#o4-change-based-polling" class="md-nav__link">
    <span class="md-ellipsis">
      O4: Change based polling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open-vragen" class="md-nav__link">
    <span class="md-ellipsis">
      Open vragen
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="adr001-communicatie-met-de-productive-api">ADR001-Communicatie met de Productive API</h1>
<h2 id="status-proposed"><strong>Status:</strong> Proposed</h2>
<h2 id="context"><strong>Context:</strong></h2>
<p>Voor de development teams wordt Productive gebruikt voor het project beheer, het Project Management Portal biedt de klant en de PM inzicht in en communicatie met deze Productive omgeving. Voor de development teams dient het werkproces niet aangepast te worden.</p>
<h2 id="decision"><strong>Decision:</strong></h2>
<h3 id="o2-continu-synchroniserende-backend-database-aan-de-hand-van-webhooks">O2-Continu synchroniserende backend database aan de hand van Webhooks</h3>
<p>Om de meest recente data te tonen uit productive terwijl de schaalbaarheid wordt behouden is gekozen gebruik te maken van de <a href="https://developer.productive.io/webhooks.html#webhooks">Productive.io webhooks</a>. Hiermee zou data automatisch gesynchroniseerd kunnen worden naar de back-end database vanuit waar (zonder verdere rate limits) de data verspreid kan worden naar verschillende gebruikers van het PMP.</p>
<h4 id="data-uitlezen">Data uitlezen</h4>
<p>In dit geval zou het PMP bij bijvoorbeeld het opvragen van taken die bij een project horen enkel met zijn eigen database communiceren.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="319px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 621 319" width="621px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.5908" x="251.342" y="27.9951">getTasks 'local'</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="103.3765" x2="103.3765" y1="104.5938" y2="241.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="267.1006" x2="267.1006" y1="104.5938" y2="241.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="430.0874" x2="430.0874" y1="104.5938" y2="241.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="566.4038" x2="566.4038" y1="104.5938" y2="241.125"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="46.3765" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="53.3765" y="93.292">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="46.3765" y="240.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="53.3765" y="260.1201">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.2734" x="218.1006" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="225.1006" y="93.292">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.2734" x="218.1006" y="240.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="225.1006" y="260.1201">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="357.0874" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="364.0874" y="93.292">PersistenceService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="357.0874" y="240.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="364.0874" y="260.1201">PersistenceService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="513.4038" y="101.292">PMP_database</text><path d="M548.8394,52.2969 C548.8394,42.2969 566.8394,42.2969 566.8394,42.2969 C566.8394,42.2969 584.8394,42.2969 584.8394,52.2969 L584.8394,78.2969 C584.8394,88.2969 566.8394,88.2969 566.8394,88.2969 C566.8394,88.2969 548.8394,88.2969 548.8394,78.2969 L548.8394,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M548.8394,52.2969 C548.8394,62.2969 566.8394,62.2969 566.8394,62.2969 C566.8394,62.2969 584.8394,62.2969 584.8394,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="513.4038" y="253.1201">PMP_database</text><path d="M548.8394,266.4219 C548.8394,256.4219 566.8394,256.4219 566.8394,256.4219 C566.8394,256.4219 584.8394,256.4219 584.8394,266.4219 L584.8394,292.4219 C584.8394,302.4219 566.8394,302.4219 566.8394,302.4219 C566.8394,302.4219 548.8394,302.4219 548.8394,292.4219 L548.8394,266.4219 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M548.8394,266.4219 C548.8394,276.4219 566.8394,276.4219 566.8394,276.4219 C566.8394,276.4219 584.8394,276.4219 584.8394,266.4219 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="92.229,131.7266,102.229,135.7266,92.229,139.7266,96.229,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="98.229" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="7" y="130.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1836" x="20.0454" y="130.6606">UI request</text><polygon fill="#181818" points="255.2373,160.8594,265.2373,164.8594,255.2373,168.8594,259.2373,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="104.229" x2="261.2373" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="111.229" y="159.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.9629" x="124.2744" y="159.7935">getTasks(projectId)</text><polygon fill="#181818" points="418.2456,189.9922,428.2456,193.9922,418.2456,197.9922,422.2456,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="267.2373" x2="424.2456" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="274.2373" y="188.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.9629" x="287.2827" y="188.9263">getTasks(projectId)</text><polygon fill="#181818" points="554.8394,219.125,564.8394,223.125,554.8394,227.125,558.8394,223.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="430.2456" x2="560.8394" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="437.2456" y="218.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.4697" x="450.291" y="218.0591">SELECT....</text></g></svg></div>

<p>TODO: Zijn gets nodig om via een service te doen? Is het netter de controller direct met de repositories te laten praten of heeft de service laag hier toch een rol in?
TODO: Terminologie opzoeken transparant vs non-transparant layers of iets dergelijks</p>
<h4 id="data-wijzigen-binnen-productive">Data wijzigen binnen productive</h4>
<p>Indien via het PMP een wijziging wordt doorgevoerd zoals het toevoegen van een taak of comment of het wijzigen van een status komt dit binnen bij het PMP en wordt de PMP database bijgewerkt.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="354px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 1232 354" width="1232px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="187.8379" x="523.6611" y="27.9951">Add task via Productive</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="157.4521" x2="157.4521" y1="104.5938" y2="276.2578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="397.9937" x2="397.9937" y1="104.5938" y2="276.2578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="555.2783" x2="555.2783" y1="104.5938" y2="276.2578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="744.3857" x2="744.3857" y1="104.5938" y2="276.2578"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="887.0962" x2="887.0962" y1="104.5938" y2="276.2578"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.4131" x="62.4521" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.4131" x="69.4521" y="93.292">ProductiveSyncController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.4131" x="62.4521" y="275.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.4131" x="69.4521" y="295.2529">ProductiveSyncController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.4834" x="348.9937" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.4834" x="355.9937" y="93.292">SyncService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.4834" x="348.9937" y="275.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.4834" x="355.9937" y="295.2529">SyncService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.2734" x="506.2783" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="513.2783" y="93.292">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.2734" x="506.2783" y="275.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="513.2783" y="295.2529">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="671.3857" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="678.3857" y="93.292">PersistenceService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="671.3857" y="275.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="678.3857" y="295.2529">PersistenceService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="834.0962" y="101.292">PMP_database</text><path d="M869.5317,52.2969 C869.5317,42.2969 887.5317,42.2969 887.5317,42.2969 C887.5317,42.2969 905.5317,42.2969 905.5317,52.2969 L905.5317,78.2969 C905.5317,88.2969 887.5317,88.2969 887.5317,88.2969 C887.5317,88.2969 869.5317,88.2969 869.5317,78.2969 L869.5317,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M869.5317,52.2969 C869.5317,62.2969 887.5317,62.2969 887.5317,62.2969 C887.5317,62.2969 905.5317,62.2969 905.5317,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="834.0962" y="288.2529">PMP_database</text><path d="M869.5317,301.5547 C869.5317,291.5547 887.5317,291.5547 887.5317,291.5547 C887.5317,291.5547 905.5317,291.5547 905.5317,301.5547 L905.5317,327.5547 C905.5317,337.5547 887.5317,337.5547 887.5317,337.5547 C887.5317,337.5547 869.5317,337.5547 869.5317,327.5547 L869.5317,301.5547 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M869.5317,301.5547 C869.5317,311.5547 887.5317,311.5547 887.5317,311.5547 C887.5317,311.5547 905.5317,311.5547 905.5317,301.5547 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="146.1587,131.7266,156.1587,135.7266,146.1587,139.7266,150.1587,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="152.1587" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="7" y="130.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.1133" x="20.0454" y="130.6606">webhook message</text><polygon fill="#181818" points="386.7354,160.8594,396.7354,164.8594,386.7354,168.8594,390.7354,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="158.1587" x2="392.7354" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="165.1587" y="159.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.5313" x="178.2041" y="159.7935">processSyncRequest(message)</text><polygon fill="#181818" points="543.415,189.9922,553.415,193.9922,543.415,197.9922,547.415,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="398.7354" x2="549.415" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="405.7354" y="188.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.6343" x="418.7808" y="188.9263">addTask(TaskInfo)</text><polygon fill="#181818" points="732.5439,219.125,742.5439,223.125,732.5439,227.125,736.5439,223.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="555.415" x2="738.5439" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="562.415" y="218.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.0835" x="575.4604" y="218.0591">addOrUpdate(TaskInfo)</text><polygon fill="#181818" points="875.5317,251.2578,885.5317,255.2578,875.5317,259.2578,879.5317,255.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="744.5439" x2="881.5317" y1="255.2578" y2="255.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="751.5439" y="250.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.9424" x="764.5894" y="250.1919">INSERT TaskInfo</text><path d="M892,236.125 L892,261.125 L1225,261.125 L1225,246.125 L1215,236.125 L892,236.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1215,236.125 L1215,246.125 L1225,246.125 L1215,236.125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.6284" x="898" y="253.1919">5: Could be inserted/updated with &quot;synced flag&quot;</text></g></svg></div>

<h4 id="data-wijzigen-binnen-het-pmp">Data wijzigen binnen het PMP</h4>
<p>Als via het PMP een wijziging wordt doorgevoerd kan deze direct of op een rustig moment doorgestuurd worden naar Productive. Met het op het moment verwachtte gebruik van het PMP zou een directe synchronisatie waarschijnlijk* de betere optie zijn.</p>
<p>*Deze mening is puur gebaseerd op het redundant wegschrijven van data en <a href="../../../Functioneel/FunctioneelOntwerp/#nonfunctional-requirements">NFR2.1</a> en <a href="../../../Functioneel/FunctioneelOntwerp/#nonfunctional-requirements">NFR8.2</a> zonder verdere uitgebreide redenatie of onderzoek.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="458px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 1170 458" width="1170px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137.1084" x="517.5674" y="27.9951">Add task via PMP</text><rect fill="none" height="125.3359" style="stroke:#000000;stroke-width:1.5;" width="1061.9111" x="101.332" y="238.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="168.332" x2="168.332" y1="104.5938" y2="380.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="325.7275" x2="325.7275" y1="104.5938" y2="380.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="487.8071" x2="487.8071" y1="104.5938" y2="380.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="641.0464" x2="641.0464" y1="104.5938" y2="380.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="783.7568" x2="783.7568" y1="104.5938" y2="380.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="901.6279" x2="901.6279" y1="104.5938" y2="380.4609"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="111.332" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="118.332" y="93.292">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="111.332" y="379.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="118.332" y="399.4561">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.2734" x="276.7275" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="283.7275" y="93.292">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.2734" x="276.7275" y="379.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.2734" x="283.7275" y="399.4561">TaskService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="417.8071" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="424.8071" y="93.292">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="417.8071" y="379.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="424.8071" y="399.4561">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="568.0464" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="575.0464" y="93.292">PersistenceService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="568.0464" y="379.4609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="575.0464" y="399.4561">PersistenceService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="730.7568" y="101.292">PMP_database</text><path d="M766.1924,52.2969 C766.1924,42.2969 784.1924,42.2969 784.1924,42.2969 C784.1924,42.2969 802.1924,42.2969 802.1924,52.2969 L802.1924,78.2969 C802.1924,88.2969 784.1924,88.2969 784.1924,88.2969 C784.1924,88.2969 766.1924,88.2969 766.1924,78.2969 L766.1924,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M766.1924,52.2969 C766.1924,62.2969 784.1924,62.2969 784.1924,62.2969 C784.1924,62.2969 802.1924,62.2969 802.1924,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="730.7568" y="392.4561">PMP_database</text><path d="M766.1924,405.7578 C766.1924,395.7578 784.1924,395.7578 784.1924,395.7578 C784.1924,395.7578 802.1924,395.7578 802.1924,405.7578 L802.1924,431.7578 C802.1924,441.7578 784.1924,441.7578 784.1924,441.7578 C784.1924,441.7578 766.1924,441.7578 766.1924,431.7578 L766.1924,405.7578 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M766.1924,405.7578 C766.1924,415.7578 784.1924,415.7578 784.1924,415.7578 C784.1924,415.7578 802.1924,415.7578 802.1924,405.7578 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6465" x="847.6279" y="101.292">Productive_API</text><path d="M884.4512,52.2969 C884.4512,42.2969 902.4512,42.2969 902.4512,42.2969 C902.4512,42.2969 920.4512,42.2969 920.4512,52.2969 L920.4512,78.2969 C920.4512,88.2969 902.4512,88.2969 902.4512,88.2969 C902.4512,88.2969 884.4512,88.2969 884.4512,78.2969 L884.4512,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M884.4512,52.2969 C884.4512,62.2969 902.4512,62.2969 902.4512,62.2969 C902.4512,62.2969 920.4512,62.2969 920.4512,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6465" x="847.6279" y="392.4561">Productive_API</text><path d="M884.4512,405.7578 C884.4512,395.7578 902.4512,395.7578 902.4512,395.7578 C902.4512,395.7578 920.4512,395.7578 920.4512,405.7578 L920.4512,431.7578 C920.4512,441.7578 902.4512,441.7578 902.4512,441.7578 C902.4512,441.7578 884.4512,441.7578 884.4512,431.7578 L884.4512,405.7578 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M884.4512,405.7578 C884.4512,415.7578 902.4512,415.7578 902.4512,415.7578 C902.4512,415.7578 920.4512,415.7578 920.4512,405.7578 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="157.1846,131.7266,167.1846,135.7266,157.1846,139.7266,161.1846,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="163.1846" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="7" y="130.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.1392" x="20.0454" y="130.6606">UI request(TaskInfo)</text><polygon fill="#181818" points="313.8643,160.8594,323.8643,164.8594,313.8643,168.8594,317.8643,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="169.1846" x2="319.8643" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="176.1846" y="159.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.6343" x="189.23" y="159.7935">addTask(TaskInfo)</text><polygon fill="#181818" points="475.9268,189.9922,485.9268,193.9922,475.9268,197.9922,479.9268,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="325.8643" x2="481.9268" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="332.8643" y="188.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0171" x="345.9097" y="188.9263">syncTask(TaskInfo)</text><polygon fill="#181818" points="890.4512,219.125,900.4512,223.125,890.4512,227.125,894.4512,223.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="487.9268" x2="896.4512" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="494.9268" y="218.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.8936" x="507.9722" y="218.0591">HTTP POST</text><path d="M101.332,238.125 L165.7749,238.125 L165.7749,245.2578 L155.7749,255.2578 L101.332,255.2578 L101.332,238.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="125.3359" style="stroke:#000000;stroke-width:1.5;" width="1061.9111" x="101.332" y="238.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="116.332" y="251.1919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88.0806" x="180.7749" y="250.3354">[http success]</text><polygon fill="#181818" points="629.2046,272.3906,639.2046,276.3906,629.2046,280.3906,633.2046,276.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="325.8643" x2="635.2046" y1="276.3906" y2="276.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="332.8643" y="271.3247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.8857" x="345.9097" y="271.3247">insertOrUpdateTask(TaskInfo)</text><polygon fill="#181818" points="772.1924,304.5234,782.1924,308.5234,772.1924,312.5234,776.1924,308.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="641.2046" x2="778.1924" y1="308.5234" y2="308.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="648.2046" y="303.4575">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.9424" x="661.25" y="303.4575">INSERT TaskInfo</text><path d="M789,289.3906 L789,314.3906 L1148,314.3906 L1148,299.3906 L1138,289.3906 L789,289.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1138,289.3906 L1138,299.3906 L1148,299.3906 L1138,289.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.0508" x="795" y="306.4575">6: Could be inserted/updated with &quot;not synced flag&quot;</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="101.332" x2="1163.2432" y1="320.5234" y2="320.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80.5718" x="106.332" y="330.7339">[http failure]</text><polygon fill="#181818" points="180.1846,351.4609,170.1846,355.4609,180.1846,359.4609,176.1846,355.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="174.1846" x2="486.9268" y1="355.4609" y2="355.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="186.1846" y="350.395">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.0186" x="199.23" y="350.395">throw SynchronizationException</text></g></svg></div>

<p>TODO: Procedure voor retries bij error of direct error tonen aan gebruiker?
TODO: Change diagram exception
TODO: bovenstaande procedure is sequentieel, het is beter als het parallel kan. Toch eerst PMP commit en rollback procedure opzetten?</p>
<h4 id="synchronisatie-bevestiging">Synchronisatie bevestiging</h4>
<p>Een resultaat van het ontkoppelen van de PMP database en de Productive database (alle opties hier besproken behalve <a href="#o1-directe-communicatie-met-productive">O1</a> waar "direct" met Productive gecommuniceerd wordt) is dat de twee datasets mogelijk andere data bevatten. Eén punt waarop dit binnen de gemaakte sequence diagrammen is bij het <a href="#data-wijzigen-binnen-productive">wijzigen van data binnen Productive</a> waar een periode bestaat waar data wel in Productive bestaat maar niet in de PMP database. Bij het wijzigen van data binnen het PMP zou een soort gelijke scenario voor kunnen komen als het toevoegen/wijzigen van data binnen Productive om wat voor reden dan ook (te veel requests, verbinding problemen of authenticatie problemen?) data niet door de Productive API geaccepteerd wordt. Een deel van de scenario's waar in data niet wordt gesynchroniseerd zou afgevangen kunnen worden door voor binnen het PMP aangemaakte wijzigingen bij te houden of de resulterende webhook (of http response code) ook weer is binnengekomen op de synchronisatie service. Hierdoor zouden problematische records in ieder geval gedetecteerd kunnen worden.</p>
<h2 id="consequences"><strong>Consequences:</strong></h2>
<p>Belangrijke aspecten om rekening mee te houden tijdens de synchronisatie:</p>
<ul>
<li>Productive rate limits</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Type</strong></th>
<th>REST API calls</th>
<th>REST API calls 'reports' endpoint</th>
<th>Webhook</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Limiet</strong></td>
<td><a href="https://developer.productive.io/webhooks.html#webhooks">100 requests per 10 sec</a></td>
<td><a href="https://developer.productive.io/webhooks.html#webhooks">10 requests per 30 sec</a></td>
<td><a href="https://developer.productive.io/webhooks.html#header-rate-limits">1000 per 5 minutes</a></td>
</tr>
<tr>
<td><strong>Fout resultaat</strong></td>
<td>HTTP response 429 Too Many Requests</td>
<td>HTTP response 429 Too Many Requests</td>
<td>email notificatie</td>
</tr>
</tbody>
</table>
<p>Er wordt binnen de Productive API documentatie gesproken over bulk requests. De documentatie is niet heel duidelijk hoe deze bulk requests gebruikt kunnen worden maar voor acties die veel data nodig hebben zoals een eventuele state check (zie correctheid en actualiteit van de gelezen data) of de initiële database populatie zouden bulk requests gebruikt kunnen worden.</p>
<ul>
<li>Reactietijd</li>
</ul>
<p>Het ophalen, filteren en transformeren van data van externe APIs is iets dat (relatief) veel tijd kan kosten. Door op de achtergrond de database te synchroniseren en "tijdens het gebruik van het PMP" data enkel uit de PMP database op te halen kan de hoeveelheid round trips tijdens gebruik verminderen.</p>
<ul>
<li>Correctheid en actualiteit van de gelezen data</li>
</ul>
<p>Afhankelijk van waar de data die aan de gebruiker geleverd wordt vandaan komt zou het kunnen dat (in het geval van een lokale database) de data verouderd is of incorrect/niet overeenkomend met productive is weggeschreven.</p>
<p>NAVRAGEN: Er dient een procedure opgezet te worden waarin wordt gekeken naar de productive database en deze state A. wordt vergeleken met de huidige db state of B. de huidige db state wordt overschreven.</p>
<ul>
<li>Correctheid geschreven data</li>
</ul>
<p>Als er taken worden aangemaakt binnen het PMP dienen dienen deze vastgelegd te worden in Productive. Afhankelijk van waar de aan de gebruiker getoonde informatie vandaan komt (Productive of lokale db) dient deze data direct gesynchroniseerd te worden of kan dit op een later moment gebeuren.</p>
<ul>
<li>Niet reageren webhook</li>
</ul>
<p>Mocht de PMP back-end om wat voor reden niet dan ook geen OK status code terug sturen naar de webhook worden er door Productive nog 11 keer (over 12 uur) een poging gedaan de data te sturen. In het geval dat het PMP in deze tijd niet reageert zou er data in Productive staan die niet in het PMP aanwezig is en dus gesynchroniseerd moet worden.</p>
<ul>
<li>Initiële dataset</li>
</ul>
<p>Omdat er aan de hand van webhooks enkel nieuwe data wordt gesynchroniseerd tussen Productive en het PMP dient er voor een oplossing aan de hand van webhooks nagedacht te worden over een procedure van het binnenhalen van een initiële dataset.</p>
<h2 id="alternatives"><strong>Alternatives:</strong></h2>
<h3 id="o1-directe-communicatie-met-productive">O1: Directe communicatie met productive</h3>
<p>Technisch gezien is voor de data over projecten en taken geen back end database nodig als de data direct van Productive's API gehaald wordt. Hiermee is het PMP <a href="https://developer.productive.io/index.html#header-rate-limits">gelimiteerd aan 100 requests per 10 seconden</a> en dit biedt weinig flexibiliteit in data transformatie of implementatie van niet productive gerelateerde functionaliteit als het toevoegen van documentatie (<a href="../../../Functioneel/Requirements/FR7_Inzien_project_documentatie/">FR7</a>) of een service overview (<a href="../../../Functioneel/Requirements/FR6_Inzien_project_service_statuses/">FR6</a> ) in een project.</p>
<p>TODO: Data altijd opvragen en toch wegschrijven in een lokale db zodat opgevraagde data wél altijd beschikbaar is zou een 'alternatief' kunnen zijn maar komt qua voor en nadelen redelijk overeen met O1. Zou dit een optie zijn voor wanneer Productive overbelast is? Vermoedelijk voegt het onnodige complexiteit toe zonder toevoeging van grote waarde.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="290px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 458 290" width="458px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="130.8398" x="165.0818" y="27.9951">getTasks 'direct'</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="103.3765" x2="103.3765" y1="104.5938" y2="211.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="267.1177" x2="267.1177" y1="104.5938" y2="211.9922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="401.3569" x2="401.3569" y1="104.5938" y2="211.9922"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="46.3765" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="53.3765" y="93.292">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="46.3765" y="210.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="53.3765" y="230.9873">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="197.1177" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="204.1177" y="93.292">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="197.1177" y="210.9922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="204.1177" y="230.9873">ProductiveService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6465" x="347.3569" y="101.292">Productive_API</text><path d="M384.1802,52.2969 C384.1802,42.2969 402.1802,42.2969 402.1802,42.2969 C402.1802,42.2969 420.1802,42.2969 420.1802,52.2969 L420.1802,78.2969 C420.1802,88.2969 402.1802,88.2969 402.1802,88.2969 C402.1802,88.2969 384.1802,88.2969 384.1802,78.2969 L384.1802,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M384.1802,52.2969 C384.1802,62.2969 402.1802,62.2969 402.1802,62.2969 C402.1802,62.2969 420.1802,62.2969 420.1802,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6465" x="347.3569" y="223.9873">Productive_API</text><path d="M384.1802,237.2891 C384.1802,227.2891 402.1802,227.2891 402.1802,227.2891 C402.1802,227.2891 420.1802,227.2891 420.1802,237.2891 L420.1802,263.2891 C420.1802,273.2891 402.1802,273.2891 402.1802,273.2891 C402.1802,273.2891 384.1802,273.2891 384.1802,263.2891 L384.1802,237.2891 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M384.1802,237.2891 C384.1802,247.2891 402.1802,247.2891 402.1802,247.2891 C402.1802,247.2891 420.1802,247.2891 420.1802,237.2891 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="92.229,131.7266,102.229,135.7266,92.229,139.7266,96.229,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="98.229" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="7" y="130.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1836" x="20.0454" y="130.6606">UI request</text><polygon fill="#181818" points="255.2373,160.8594,265.2373,164.8594,255.2373,168.8594,259.2373,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="104.229" x2="261.2373" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="111.229" y="159.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.9629" x="124.2744" y="159.7935">getTasks(projectId)</text><polygon fill="#181818" points="390.1802,189.9922,400.1802,193.9922,390.1802,197.9922,394.1802,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="267.2373" x2="396.1802" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="274.2373" y="188.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.0464" x="287.2827" y="188.9263">http GET</text></g></svg></div>

<h3 id="o3-timed-data-synchronisatie">O3: Timed data synchronisatie</h3>
<p>Productive biedt de mogelijkheid <a href="https://developer.productive.io/index.html#header-content-negotiation">bulk requests</a> te doen. Dit zou gebruikt kunnen worden om op aanvraag de back-end database te synchroniseren met de informatie zoals beschikbaar op Productive.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="319px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 608 319" width="608px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="151.1152" x="230.2512" y="27.9951">Add task from pmp</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="103.3765" x2="103.3765" y1="104.5938" y2="241.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="260.7891" x2="260.7891" y1="104.5938" y2="241.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="417.4302" x2="417.4302" y1="104.5938" y2="241.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="553.7466" x2="553.7466" y1="104.5938" y2="241.125"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="46.3765" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="53.3765" y="93.292">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.7051" x="46.3765" y="240.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.7051" x="53.3765" y="260.1201">TaskController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="190.7891" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="197.7891" y="93.292">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="190.7891" y="240.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="197.7891" y="260.1201">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="344.4302" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="351.4302" y="93.292">PersistenceService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="344.4302" y="240.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="351.4302" y="260.1201">PersistenceService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="500.7466" y="101.292">PMP_database</text><path d="M536.1821,52.2969 C536.1821,42.2969 554.1821,42.2969 554.1821,42.2969 C554.1821,42.2969 572.1821,42.2969 572.1821,52.2969 L572.1821,78.2969 C572.1821,88.2969 554.1821,88.2969 554.1821,88.2969 C554.1821,88.2969 536.1821,88.2969 536.1821,78.2969 L536.1821,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M536.1821,52.2969 C536.1821,62.2969 554.1821,62.2969 554.1821,62.2969 C554.1821,62.2969 572.1821,62.2969 572.1821,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="500.7466" y="253.1201">PMP_database</text><path d="M536.1821,266.4219 C536.1821,256.4219 554.1821,256.4219 554.1821,256.4219 C554.1821,256.4219 572.1821,256.4219 572.1821,266.4219 L572.1821,292.4219 C572.1821,302.4219 554.1821,302.4219 554.1821,302.4219 C554.1821,302.4219 536.1821,302.4219 536.1821,292.4219 L536.1821,266.4219 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M536.1821,266.4219 C536.1821,276.4219 554.1821,276.4219 554.1821,276.4219 C554.1821,276.4219 572.1821,276.4219 572.1821,266.4219 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="92.229,131.7266,102.229,135.7266,92.229,139.7266,96.229,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="98.229" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="7" y="130.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1836" x="20.0454" y="130.6606">UI request</text><polygon fill="#181818" points="248.9087,160.8594,258.9087,164.8594,248.9087,168.8594,252.9087,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104.229" x2="254.9087" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="111.229" y="159.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.6343" x="124.2744" y="159.7935">addTask(TaskInfo)</text><polygon fill="#181818" points="405.5884,189.9922,415.5884,193.9922,405.5884,197.9922,409.5884,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="260.9087" x2="411.5884" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="267.9087" y="188.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.6343" x="280.9541" y="188.9263">addTask(TaskInfo)</text><polygon fill="#181818" points="542.1821,219.125,552.1821,223.125,542.1821,227.125,546.1821,223.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5884" x2="548.1821" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="424.5884" y="218.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.395" x="437.6338" y="218.0591">INSERT...</text></g></svg></div>

<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="406px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 841 406" width="841px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="122.3359" x="361.2141" y="27.9951">Bulk sync tasks</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="122.959" x2="122.959" y1="104.5938" y2="328.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="299.3721" x2="299.3721" y1="104.5938" y2="328.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="478.1094" x2="478.1094" y1="104.5938" y2="328.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="667.2466" x2="667.2466" y1="104.5938" y2="328.5234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="785.1177" x2="785.1177" y1="104.5938" y2="328.5234"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.4131" x="27.959" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.4131" x="34.959" y="93.292">ProductiveSyncController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.4131" x="27.959" y="327.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.4131" x="34.959" y="347.5186">ProductiveSyncController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="229.3721" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="236.3721" y="93.292">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.2393" x="229.3721" y="327.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="236.3721" y="347.5186">ProductiveService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="405.1094" y="73.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="412.1094" y="93.292">PersistenceService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="405.1094" y="327.5234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="412.1094" y="347.5186">PersistenceService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="614.2466" y="101.292">PMP_database</text><path d="M649.6821,52.2969 C649.6821,42.2969 667.6821,42.2969 667.6821,42.2969 C667.6821,42.2969 685.6821,42.2969 685.6821,52.2969 L685.6821,78.2969 C685.6821,88.2969 667.6821,88.2969 667.6821,88.2969 C667.6821,88.2969 649.6821,88.2969 649.6821,78.2969 L649.6821,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M649.6821,52.2969 C649.6821,62.2969 667.6821,62.2969 667.6821,62.2969 C667.6821,62.2969 685.6821,62.2969 685.6821,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.8711" x="614.2466" y="340.5186">PMP_database</text><path d="M649.6821,353.8203 C649.6821,343.8203 667.6821,343.8203 667.6821,343.8203 C667.6821,343.8203 685.6821,343.8203 685.6821,353.8203 L685.6821,379.8203 C685.6821,389.8203 667.6821,389.8203 667.6821,389.8203 C667.6821,389.8203 649.6821,389.8203 649.6821,379.8203 L649.6821,353.8203 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M649.6821,353.8203 C649.6821,363.8203 667.6821,363.8203 667.6821,363.8203 C667.6821,363.8203 685.6821,363.8203 685.6821,353.8203 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6465" x="731.1177" y="101.292">Productive_API</text><path d="M767.9409,52.2969 C767.9409,42.2969 785.9409,42.2969 785.9409,42.2969 C785.9409,42.2969 803.9409,42.2969 803.9409,52.2969 L803.9409,78.2969 C803.9409,88.2969 785.9409,88.2969 785.9409,88.2969 C785.9409,88.2969 767.9409,88.2969 767.9409,78.2969 L767.9409,52.2969 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M767.9409,52.2969 C767.9409,62.2969 785.9409,62.2969 785.9409,62.2969 C785.9409,62.2969 803.9409,62.2969 803.9409,52.2969 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.6465" x="731.1177" y="340.5186">Productive_API</text><path d="M767.9409,353.8203 C767.9409,343.8203 785.9409,343.8203 785.9409,343.8203 C785.9409,343.8203 803.9409,343.8203 803.9409,353.8203 L803.9409,379.8203 C803.9409,389.8203 785.9409,389.8203 785.9409,389.8203 C785.9409,389.8203 767.9409,389.8203 767.9409,379.8203 L767.9409,353.8203 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M767.9409,353.8203 C767.9409,363.8203 785.9409,363.8203 785.9409,363.8203 C785.9409,363.8203 803.9409,363.8203 803.9409,353.8203 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="111.6655,131.7266,121.6655,135.7266,111.6655,139.7266,115.6655,135.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="117.6655" y1="135.7266" y2="135.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="7" y="130.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.6201" x="20.0454" y="130.6606">cron job sync</text><polygon fill="#181818" points="287.4917,160.8594,297.4917,164.8594,287.4917,168.8594,291.4917,164.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="123.6655" x2="293.4917" y1="164.8594" y2="164.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="130.6655" y="159.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.3198" x="143.7109" y="159.7935">syncLocalChanges</text><polygon fill="#181818" points="466.2676,189.9922,476.2676,193.9922,466.2676,197.9922,470.2676,193.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="299.4917" x2="472.2676" y1="193.9922" y2="193.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="306.4917" y="188.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7305" x="319.5371" y="188.9263">lc = getLocalChanges</text><polygon fill="#181818" points="655.6821,219.125,665.6821,223.125,655.6821,227.125,659.6821,223.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="478.2676" x2="661.6821" y1="223.125" y2="223.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="485.2676" y="218.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.3691" x="498.313" y="218.0591">select where synced=0</text><polygon fill="#181818" points="773.9409,248.2578,783.9409,252.2578,773.9409,256.2578,777.9409,252.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="299.4917" x2="779.9409" y1="252.2578" y2="252.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="306.4917" y="247.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.8574" x="319.5371" y="247.1919">HTTP GET</text><polygon fill="#181818" points="466.2676,277.3906,476.2676,281.3906,466.2676,285.3906,470.2676,281.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="299.4917" x2="472.2676" y1="281.3906" y2="281.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="306.4917" y="276.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.2476" x="319.5371" y="276.3247">setToSynced(lc)**</text><polygon fill="#181818" points="655.6821,306.5234,665.6821,310.5234,655.6821,314.5234,659.6821,310.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="478.2676" x2="661.6821" y1="310.5234" y2="310.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="485.2676" y="305.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.0249" x="498.313" y="305.4575">UPDATE/DELETE...</text></g></svg></div>

<p>**Dit zou ook kunnen gebeuren als de gesynchroniseerde items terug komen via de webhook</p>
<p>TODO: verantwoording dat je in dit geval de "niet gesynchroniseerde" data gecombineerd moet worden met A. de productive API data of B. de lokale data verzameld aan de hand van webhooks of REST requests.</p>
<h3 id="o4-change-based-polling">O4: Change based polling</h3>
<p>Productive biedt een "<a href="https://developer.productive.io/activities.html#activities">Activities</a>" endpoint aan waar wijzigingen in het Model van productive opgevraagd kunnen worden op basis van taak, project of bedrijf met ingebouwde filters evenementen voor of na een bepaalde datum. Door wanneer data over een bepaald project nodig is zou in de lokale database gekeken kunnen worden wanneer hier de laatste activiteit in is geweest. Deze activiteit is weg te schrijven in de lokale database en kan getoond worden aan de gebruiker.</p>
<div class="puml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="459px" preserveAspectRatio="true" style="background: #ffffff" version="1.1" viewBox="0 0 802 459" width="802px" zoomAndPan="magnify"><defs/><g><ellipse cx="427.9983" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="221.873" x="317.0618" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="201.873" x="327.0618" y="71.1387">get relevant project from local db</text><polygon fill="#F1F1F1" points="391.4507,103.9688,464.5459,103.9688,476.5459,115.9688,464.5459,127.9688,391.4507,127.9688,379.4507,115.9688,391.4507,103.9688" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73.0952" x="391.4507" y="119.7769">Project found</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="365.749" y="113.3745">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="476.5459" y="113.3745">yes</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="185.4863" x="140.4028" y="137.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="165.4863" x="150.4028" y="159.1074">get project from productive</text><polygon fill="#F1F1F1" points="143.7549,191.9375,322.5371,191.9375,334.5371,203.9375,322.5371,215.9375,143.7549,215.9375,131.7549,203.9375,143.7549,191.9375" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178.7822" x="143.7549" y="207.7456">Productive contains project data</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="112.7466" y="201.3433">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="334.5371" y="201.3433">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="221.5098" x="11" y="225.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="201.5098" x="21" y="247.0762">get all activities from productive*</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="159.7813" x="264.6465" y="225.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139.7813" x="274.6465" y="247.0762">Show project not found</text><polygon fill="#F1F1F1" points="233.146,265.9063,245.146,277.9063,233.146,289.9063,221.146,277.9063,233.146,265.9063" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="336.8457" x="454.4277" y="137.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="316.8457" x="464.4277" y="159.1074">get Activities from productive since last local update</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="173.1348" x="536.2832" y="240.3398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="153.1348" x="546.2832" y="261.4785">Write changes to local db</text><polygon fill="#F1F1F1" points="589.5552,191.9375,656.146,191.9375,668.146,203.9375,656.146,215.9375,589.5552,215.9375,577.5552,203.9375,589.5552,191.9375" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.0083" x="626.8506" y="226.1479">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66.5908" x="589.5552" y="207.7456">Activities&gt;0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="668.146" y="201.3433">no</text><polygon fill="#F1F1F1" points="622.8506,298.7109,634.8506,310.7109,622.8506,322.7109,610.8506,310.7109,622.8506,298.7109" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="427.9983,328.7109,439.9983,340.7109,427.9983,352.7109,415.9983,340.7109,427.9983,328.7109" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="127.707" x="364.1448" y="372.7109"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107.707" x="374.1448" y="393.8496">show data to user</text><ellipse cx="427.9983" cy="437.6797" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="427.9983" cy="437.6797" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427.9983" x2="427.9983" y1="30" y2="50"/><polygon fill="#181818" points="423.9983,40,427.9983,50,431.9983,40,427.9983,44" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="131.7549" x2="121.7549" y1="203.9375" y2="203.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.7549" x2="121.7549" y1="203.9375" y2="225.9375"/><polygon fill="#181818" points="117.7549,215.9375,121.7549,225.9375,125.7549,215.9375,121.7549,219.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334.5371" x2="344.5371" y1="203.9375" y2="203.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.5371" x2="344.5371" y1="203.9375" y2="225.9375"/><polygon fill="#181818" points="340.5371,215.9375,344.5371,225.9375,348.5371,215.9375,344.5371,219.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.7549" x2="121.7549" y1="259.9063" y2="277.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="121.7549" x2="221.146" y1="277.9063" y2="277.9063"/><polygon fill="#181818" points="211.146,273.9063,221.146,277.9063,211.146,281.9063,215.146,277.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.5371" x2="344.5371" y1="259.9063" y2="277.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.5371" x2="245.146" y1="277.9063" y2="277.9063"/><polygon fill="#181818" points="255.146,273.9063,245.146,277.9063,255.146,281.9063,251.146,277.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.146" x2="233.146" y1="171.9375" y2="191.9375"/><polygon fill="#181818" points="229.146,181.9375,233.146,191.9375,237.146,181.9375,233.146,185.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.8506" x2="622.8506" y1="215.9375" y2="240.3398"/><polygon fill="#181818" points="618.8506,230.3398,622.8506,240.3398,626.8506,230.3398,622.8506,234.3398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="668.146" x2="719.418" y1="203.9375" y2="203.9375"/><polygon fill="#181818" points="715.418,247.3242,719.418,257.3242,723.418,247.3242,719.418,251.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="719.418" x2="719.418" y1="203.9375" y2="310.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="719.418" x2="634.8506" y1="310.7109" y2="310.7109"/><polygon fill="#181818" points="644.8506,306.7109,634.8506,310.7109,644.8506,314.7109,640.8506,310.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.8506" x2="622.8506" y1="274.3086" y2="298.7109"/><polygon fill="#181818" points="618.8506,288.7109,622.8506,298.7109,626.8506,288.7109,622.8506,292.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.8506" x2="622.8506" y1="171.9375" y2="191.9375"/><polygon fill="#181818" points="618.8506,181.9375,622.8506,191.9375,626.8506,181.9375,622.8506,185.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379.4507" x2="233.146" y1="115.9688" y2="115.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.146" x2="233.146" y1="115.9688" y2="137.9688"/><polygon fill="#181818" points="229.146,127.9688,233.146,137.9688,237.146,127.9688,233.146,131.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="476.5459" x2="622.8506" y1="115.9688" y2="115.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.8506" x2="622.8506" y1="115.9688" y2="137.9688"/><polygon fill="#181818" points="618.8506,127.9688,622.8506,137.9688,626.8506,127.9688,622.8506,131.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.146" x2="233.146" y1="289.9063" y2="340.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="233.146" x2="415.9983" y1="340.7109" y2="340.7109"/><polygon fill="#181818" points="405.9983,336.7109,415.9983,340.7109,405.9983,344.7109,409.9983,340.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.8506" x2="622.8506" y1="322.7109" y2="340.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="622.8506" x2="439.9983" y1="340.7109" y2="340.7109"/><polygon fill="#181818" points="449.9983,336.7109,439.9983,340.7109,449.9983,344.7109,445.9983,340.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427.9983" x2="427.9983" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="423.9983,93.9688,427.9983,103.9688,431.9983,93.9688,427.9983,97.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427.9983" x2="427.9983" y1="352.7109" y2="372.7109"/><polygon fill="#181818" points="423.9983,362.7109,427.9983,372.7109,431.9983,362.7109,427.9983,366.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="427.9983" x2="427.9983" y1="406.6797" y2="426.6797"/><polygon fill="#181818" points="423.9983,416.6797,427.9983,426.6797,431.9983,416.6797,427.9983,420.6797" style="stroke:#181818;stroke-width:1.0;"/></g></svg></div>

<p>Aan de hand van deze procedure stuur je per pagina op zijn minst één request naar de productive Activities endpoint en één request naar de PMP database. Als aan de hand van de activities alle data ingeladen kan worden is met één request naar de PMP database en twee naar productive (met één enkel naar Activities zie je het verschil tussen geen activity en geen project niet) gegarandeerd worden dat je werkt met de meest recente versie van een project en de bijbehorende taken.</p>
<p>Uitdagingen:</p>
<ul>
<li>Het toevoegen van bijlages lijkt niet terug te komen in de activities maar wel de last activity van het project.</li>
<li>Activities omzetten naar objecten als projecten en taken zou uitdagend kunnen zijn</li>
<li>Het is mogelijk dat enkel de meest recent geüpdatet data in de activities lijst komen en dus alsnog naderhand data opgehaald moet worden van productive om alle informatie aan de gebruiker te kunnen tonen.</li>
</ul>
<h2 id="open-vragen">Open vragen</h2>
<ul>
<li>De bulk requests zoals beschreven in <a href="#o4-change-based-polling">optie 4</a> heb ik persoonlijk nooit gebruikt en in de <a href="https://developer.productive.io/faq.html#faq">Productive FAQ</a> wordt gesproken over dat er geen bulk insert bestaat voor create budget/deals. Mij is het vooralsnog onduidelijk of dit inhoudt dat er enkel voor de budget en deals endpoints geen bulk inserts gedaan kunnen worden of dat er api breed enkel bulk update en deletes gedaan kunnen worden.</li>
<li><a href="#o2-continu-synchroniserende-backend-database-aan-de-hand-van-webhooks">O2:</a> Bij het toevoegen van data voor Productive binnen het PMP is er een periode dat de data wel in het PMP zou kunnen staan zonder dat er via de webhooks het toegevoegde item binnen zou komen. In de sequence diagram van het aangegeven hoofdstuk wordt bijgehouden of verschillende items gesynchroniseerd zijn aan de hand van verificatie na de webhook maar hier is geen strikte eis voor. Is er wens naar een dergelijke functionaliteit of is dit onnodige bij bedachte complexiteit?</li>
<li>Zoals bij de diagram voor <a href="#data-wijzigen-binnen-het-pmp">data wijzigen binnen het PMP</a> besproken zou er nagedacht kunnen worden over een rollback procedure van incorrecte of niet verwerkte data in plaats van data sequentieel weg te schrijven. In de ideale situatie zouden alle stappen binnen TaskService.AddTask(TaskInfo) asynchroon uitvoerbaar zijn terwijl de transactie not atomair is.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>